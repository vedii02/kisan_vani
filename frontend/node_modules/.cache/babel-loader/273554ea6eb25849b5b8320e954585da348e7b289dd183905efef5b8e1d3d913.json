{"ast":null,"code":"var _jsxFileName = \"D:\\\\Vedi_Practice\\\\AI\\\\kisan_vani\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Mic, MicOff, Volume2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [isListening, setIsListening] = useState(false);\n  const [text, setText] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('hi-IN');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const audioRef = useRef(new Audio());\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const languages = [{\n    code: 'hi-IN',\n    name: '‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'en-US',\n    name: 'English',\n    flag: 'üá∫üá∏'\n  }, {\n    code: 'mr-IN',\n    name: '‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'gu-IN',\n    name: '‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä (Gujarati)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'bn-IN',\n    name: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'te-IN',\n    name: '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'ta-IN',\n    name: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'kn-IN',\n    name: '‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'ml-IN',\n    name: '‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç (Malayalam)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'pa-IN',\n    name: '‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)',\n    flag: 'üáÆüá≥'\n  }];\n\n  // Start Recording\n  const startListening = async () => {\n    try {\n      console.log('üé§ Starting microphone...');\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          channelCount: 1,\n          sampleRate: 48000\n        }\n      });\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'audio/webm;codecs=opus'\n      });\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      mediaRecorder.ondataavailable = e => {\n        if (e.data.size > 0) {\n          console.log('üì¶ Audio chunk received:', e.data.size, 'bytes');\n          audioChunksRef.current.push(e.data);\n        }\n      };\n      mediaRecorder.onstop = async () => {\n        console.log('üõë Recording stopped');\n        console.log('üì¶ Total chunks:', audioChunksRef.current.length);\n        if (audioChunksRef.current.length === 0) {\n          alert('No audio recorded. Please try again.');\n          return;\n        }\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: 'audio/webm'\n        });\n        console.log('üéµ Audio blob size:', audioBlob.size, 'bytes');\n        if (audioBlob.size < 100) {\n          alert('Audio too short. Please speak longer.');\n          return;\n        }\n\n        // Stop all tracks\n        stream.getTracks().forEach(track => track.stop());\n\n        // Convert to base64 and send\n        const base64Audio = await blobToBase64(audioBlob);\n        await processVoiceMessage(base64Audio);\n      };\n      mediaRecorder.start(100); // Record in 100ms chunks\n      setIsListening(true);\n      console.log('‚úÖ Recording started successfully');\n    } catch (err) {\n      console.error('‚ùå Microphone error:', err);\n      alert('Microphone permission denied or not available');\n    }\n  };\n\n  // Stop Recording\n  const stopListening = () => {\n    const recorder = mediaRecorderRef.current;\n    if (!recorder || recorder.state !== 'recording') {\n      console.log('‚ö†Ô∏è Recorder not active');\n      return;\n    }\n    console.log('üõë Stopping recorder...');\n    recorder.stop();\n    setIsListening(false);\n  };\n\n  // Process Voice: STT ‚Üí Chat ‚Üí TTS\n  const processVoiceMessage = async audioBase64 => {\n    try {\n      setIsProcessing(true);\n      console.log('üì§ Sending audio to STT...');\n\n      // Step 1: Speech to Text\n      const sttRes = await fetch('http://localhost:8000/voice/stt', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          audio: audioBase64,\n          language: selectedLanguage\n        })\n      });\n      if (!sttRes.ok) {\n        throw new Error(`STT failed: ${sttRes.status}`);\n      }\n      const sttData = await sttRes.json();\n      console.log('‚úÖ STT Response:', sttData);\n      if (!sttData.text || sttData.text.trim() === '') {\n        alert('Could not understand. Please speak clearly.');\n        setIsProcessing(false);\n        return;\n      }\n\n      // Show transcribed text\n      setText(sttData.text);\n      const userMsg = {\n        role: 'user',\n        content: sttData.text\n      };\n      setMessages(prev => [...prev, userMsg]);\n\n      // Step 2: Get AI Response\n      console.log('ü§ñ Getting AI response...');\n      const chatRes = await fetch('http://localhost:8000/voice/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: sttData.text,\n          language: selectedLanguage,\n          farmer_id: 'farmer_123',\n          farmer_name: 'Ramesh Kumar'\n        })\n      });\n      if (!chatRes.ok) {\n        throw new Error(`Chat failed: ${chatRes.status}`);\n      }\n      const chatData = await chatRes.json();\n      console.log('‚úÖ AI Response:', chatData.response);\n      const aiMsg = {\n        role: 'assistant',\n        content: chatData.response\n      };\n      setMessages(prev => [...prev, aiMsg]);\n\n      // Step 3: Text to Speech (Play AI voice)\n      if (chatData.audio) {\n        console.log('üîä Playing AI voice...');\n        playAudio(chatData.audio);\n      } else {\n        console.log('‚ö†Ô∏è No audio in response, requesting TTS...');\n        const ttsRes = await fetch('http://localhost:8000/voice/tts', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            text: chatData.response,\n            language: selectedLanguage\n          })\n        });\n        const ttsData = await ttsRes.json();\n        playAudio(ttsData.audio);\n      }\n    } catch (err) {\n      console.error('‚ùå Voice processing error:', err);\n      alert(`Error: ${err.message}`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Manual Text Send\n  const sendMessage = async () => {\n    if (!text.trim()) return;\n    const userMsg = {\n      role: 'user',\n      content: text\n    };\n    setMessages(prev => [...prev, userMsg]);\n    const messageText = text;\n    setText('');\n    setIsProcessing(true);\n    try {\n      const res = await fetch('http://localhost:8000/voice/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: messageText,\n          language: selectedLanguage,\n          farmer_id: 'farmer_123',\n          farmer_name: 'Ramesh Kumar'\n        })\n      });\n      const data = await res.json();\n      const aiMsg = {\n        role: 'assistant',\n        content: data.response\n      };\n      setMessages(prev => [...prev, aiMsg]);\n      if (data.audio) {\n        playAudio(data.audio);\n      }\n    } catch (err) {\n      console.error(err);\n      alert('Failed to send message');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Play Audio\n  const playAudio = base64Audio => {\n    try {\n      setIsSpeaking(true);\n      const audioBlob = base64ToBlob(base64Audio, 'audio/mp3');\n      const audioUrl = URL.createObjectURL(audioBlob);\n      audioRef.current.src = audioUrl;\n      audioRef.current.onended = () => {\n        setIsSpeaking(false);\n        URL.revokeObjectURL(audioUrl);\n      };\n      audioRef.current.play();\n      console.log('‚ñ∂Ô∏è Audio playing');\n    } catch (err) {\n      console.error('Audio play error:', err);\n      setIsSpeaking(false);\n    }\n  };\n\n  // Helpers\n  const blobToBase64 = blob => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const base64 = reader.result.split(',')[1];\n      console.log('‚úÖ Converted to base64, length:', base64.length);\n      resolve(base64);\n    };\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n  const base64ToBlob = (b64, mime) => {\n    const bytes = atob(b64);\n    const arr = new Uint8Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) arr[i] = bytes.charCodeAt(i);\n    return new Blob([arr], {\n      type: mime\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-6 flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold mb-8 text-green-700\",\n      children: \"KisanAI \\uD83C\\uDF3E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: isListening ? stopListening : startListening,\n        disabled: isProcessing,\n        className: `w-20 h-20 rounded-full flex items-center justify-center text-white shadow-xl transition-all ${isListening ? 'bg-red-500 animate-pulse scale-110' : isProcessing ? 'bg-gray-400' : 'bg-green-500 hover:scale-110 hover:shadow-2xl'}`,\n        children: isListening ? /*#__PURE__*/_jsxDEV(MicOff, {\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), isListening && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 font-bold animate-pulse\",\n        children: \"\\uD83D\\uDD34 Recording... Click to stop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-blue-600 font-bold\",\n        children: \"\\u23F3 Processing...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this), isSpeaking && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 text-purple-600 font-bold\",\n        children: [/*#__PURE__*/_jsxDEV(Volume2, {\n          className: \"animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), \"Speaking...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedLanguage,\n        onChange: e => setSelectedLanguage(e.target.value),\n        className: \"px-6 py-3 rounded-lg border-2 border-green-300 text-lg font-semibold\",\n        disabled: isListening || isProcessing,\n        children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: lang.code,\n          children: [lang.flag, \" \", lang.name]\n        }, lang.code, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: text,\n        onChange: e => setText(e.target.value),\n        placeholder: \"Or type your message here...\",\n        className: \"w-full p-4 border-2 border-green-200 rounded-xl text-lg resize-none\",\n        rows: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendMessage,\n        disabled: isProcessing || !text.trim(),\n        className: \"mt-2 w-full bg-green-500 text-white px-6 py-3 rounded-xl hover:bg-green-600 disabled:bg-gray-300 font-bold\",\n        children: \"Send Message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl flex flex-col gap-4\",\n      children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-xl shadow-md ${msg.role === 'user' ? 'bg-purple-100 self-end max-w-[80%]' : 'bg-green-100 self-start max-w-[80%]'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-bold text-sm mb-1\",\n          children: msg.role === 'user' ? 'üë®‚Äçüåæ You' : 'ü§ñ KisanAI'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg\",\n          children: msg.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 265,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"E7yMFLJCcfVYXtOuUDXD9Qyd93k=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","Mic","MicOff","Volume2","jsxDEV","_jsxDEV","App","_s","isListening","setIsListening","text","setText","messages","setMessages","selectedLanguage","setSelectedLanguage","isProcessing","setIsProcessing","isSpeaking","setIsSpeaking","audioRef","Audio","mediaRecorderRef","audioChunksRef","languages","code","name","flag","startListening","console","log","stream","navigator","mediaDevices","getUserMedia","audio","channelCount","sampleRate","mediaRecorder","MediaRecorder","mimeType","current","ondataavailable","e","data","size","push","onstop","length","alert","audioBlob","Blob","type","getTracks","forEach","track","stop","base64Audio","blobToBase64","processVoiceMessage","start","err","error","stopListening","recorder","state","audioBase64","sttRes","fetch","method","headers","body","JSON","stringify","language","ok","Error","status","sttData","json","trim","userMsg","role","content","prev","chatRes","message","farmer_id","farmer_name","chatData","response","aiMsg","playAudio","ttsRes","ttsData","sendMessage","messageText","res","base64ToBlob","audioUrl","URL","createObjectURL","src","onended","revokeObjectURL","play","blob","Promise","resolve","reject","reader","FileReader","onloadend","base64","result","split","onerror","readAsDataURL","b64","mime","bytes","atob","arr","Uint8Array","i","charCodeAt","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","value","onChange","target","map","lang","placeholder","rows","msg","idx","_c","$RefreshReg$"],"sources":["D:/Vedi_Practice/AI/kisan_vani/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Mic, MicOff, Volume2 } from 'lucide-react';\n\nexport default function App() {\n  const [isListening, setIsListening] = useState(false);\n  const [text, setText] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('hi-IN');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n\n  const audioRef = useRef(new Audio());\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n\n  const languages = [\n    { code: 'hi-IN', name: '‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)', flag: 'üáÆüá≥' },\n    { code: 'en-US', name: 'English', flag: 'üá∫üá∏' },\n    { code: 'mr-IN', name: '‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi)', flag: 'üáÆüá≥' },\n    { code: 'gu-IN', name: '‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä (Gujarati)', flag: 'üáÆüá≥' },\n    { code: 'bn-IN', name: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)', flag: 'üáÆüá≥' },\n    { code: 'te-IN', name: '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)', flag: 'üáÆüá≥' },\n    { code: 'ta-IN', name: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)', flag: 'üáÆüá≥' },\n    { code: 'kn-IN', name: '‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)', flag: 'üáÆüá≥' },\n    { code: 'ml-IN', name: '‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç (Malayalam)', flag: 'üáÆüá≥' },\n    { code: 'pa-IN', name: '‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)', flag: 'üáÆüá≥' }\n  ];\n\n  // Start Recording\n  const startListening = async () => {\n    try {\n      console.log('üé§ Starting microphone...');\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        audio: {\n          channelCount: 1,\n          sampleRate: 48000\n        }\n      });\n\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'audio/webm;codecs=opus'\n      });\n\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.ondataavailable = (e) => {\n        if (e.data.size > 0) {\n          console.log('üì¶ Audio chunk received:', e.data.size, 'bytes');\n          audioChunksRef.current.push(e.data);\n        }\n      };\n\n      mediaRecorder.onstop = async () => {\n        console.log('üõë Recording stopped');\n        console.log('üì¶ Total chunks:', audioChunksRef.current.length);\n        \n        if (audioChunksRef.current.length === 0) {\n          alert('No audio recorded. Please try again.');\n          return;\n        }\n\n        const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\n        console.log('üéµ Audio blob size:', audioBlob.size, 'bytes');\n\n        if (audioBlob.size < 100) {\n          alert('Audio too short. Please speak longer.');\n          return;\n        }\n\n        // Stop all tracks\n        stream.getTracks().forEach(track => track.stop());\n\n        // Convert to base64 and send\n        const base64Audio = await blobToBase64(audioBlob);\n        await processVoiceMessage(base64Audio);\n      };\n\n      mediaRecorder.start(100); // Record in 100ms chunks\n      setIsListening(true);\n      console.log('‚úÖ Recording started successfully');\n\n    } catch (err) {\n      console.error('‚ùå Microphone error:', err);\n      alert('Microphone permission denied or not available');\n    }\n  };\n\n  // Stop Recording\n  const stopListening = () => {\n    const recorder = mediaRecorderRef.current;\n    if (!recorder || recorder.state !== 'recording') {\n      console.log('‚ö†Ô∏è Recorder not active');\n      return;\n    }\n\n    console.log('üõë Stopping recorder...');\n    recorder.stop();\n    setIsListening(false);\n  };\n\n  // Process Voice: STT ‚Üí Chat ‚Üí TTS\n  const processVoiceMessage = async (audioBase64) => {\n    try {\n      setIsProcessing(true);\n      console.log('üì§ Sending audio to STT...');\n\n      // Step 1: Speech to Text\n      const sttRes = await fetch('http://localhost:8000/voice/stt', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          audio: audioBase64,\n          language: selectedLanguage\n        })\n      });\n\n      if (!sttRes.ok) {\n        throw new Error(`STT failed: ${sttRes.status}`);\n      }\n\n      const sttData = await sttRes.json();\n      console.log('‚úÖ STT Response:', sttData);\n\n      if (!sttData.text || sttData.text.trim() === '') {\n        alert('Could not understand. Please speak clearly.');\n        setIsProcessing(false);\n        return;\n      }\n\n      // Show transcribed text\n      setText(sttData.text);\n      const userMsg = { role: 'user', content: sttData.text };\n      setMessages(prev => [...prev, userMsg]);\n\n      // Step 2: Get AI Response\n      console.log('ü§ñ Getting AI response...');\n      const chatRes = await fetch('http://localhost:8000/voice/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          message: sttData.text,\n          language: selectedLanguage,\n          farmer_id: 'farmer_123',\n          farmer_name: 'Ramesh Kumar'\n        })\n      });\n\n      if (!chatRes.ok) {\n        throw new Error(`Chat failed: ${chatRes.status}`);\n      }\n\n      const chatData = await chatRes.json();\n      console.log('‚úÖ AI Response:', chatData.response);\n\n      const aiMsg = { role: 'assistant', content: chatData.response };\n      setMessages(prev => [...prev, aiMsg]);\n\n      // Step 3: Text to Speech (Play AI voice)\n      if (chatData.audio) {\n        console.log('üîä Playing AI voice...');\n        playAudio(chatData.audio);\n      } else {\n        console.log('‚ö†Ô∏è No audio in response, requesting TTS...');\n        const ttsRes = await fetch('http://localhost:8000/voice/tts', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            text: chatData.response,\n            language: selectedLanguage\n          })\n        });\n\n        const ttsData = await ttsRes.json();\n        playAudio(ttsData.audio);\n      }\n\n    } catch (err) {\n      console.error('‚ùå Voice processing error:', err);\n      alert(`Error: ${err.message}`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Manual Text Send\n  const sendMessage = async () => {\n    if (!text.trim()) return;\n\n    const userMsg = { role: 'user', content: text };\n    setMessages(prev => [...prev, userMsg]);\n    const messageText = text;\n    setText('');\n    setIsProcessing(true);\n\n    try {\n      const res = await fetch('http://localhost:8000/voice/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          message: messageText,\n          language: selectedLanguage,\n          farmer_id: 'farmer_123',\n          farmer_name: 'Ramesh Kumar'\n        })\n      });\n\n      const data = await res.json();\n      const aiMsg = { role: 'assistant', content: data.response };\n      setMessages(prev => [...prev, aiMsg]);\n\n      if (data.audio) {\n        playAudio(data.audio);\n      }\n\n    } catch (err) {\n      console.error(err);\n      alert('Failed to send message');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Play Audio\n  const playAudio = (base64Audio) => {\n    try {\n      setIsSpeaking(true);\n      const audioBlob = base64ToBlob(base64Audio, 'audio/mp3');\n      const audioUrl = URL.createObjectURL(audioBlob);\n      \n      audioRef.current.src = audioUrl;\n      audioRef.current.onended = () => {\n        setIsSpeaking(false);\n        URL.revokeObjectURL(audioUrl);\n      };\n      audioRef.current.play();\n      console.log('‚ñ∂Ô∏è Audio playing');\n    } catch (err) {\n      console.error('Audio play error:', err);\n      setIsSpeaking(false);\n    }\n  };\n\n  // Helpers\n  const blobToBase64 = (blob) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        const base64 = reader.result.split(',')[1];\n        console.log('‚úÖ Converted to base64, length:', base64.length);\n        resolve(base64);\n      };\n      reader.onerror = reject;\n      reader.readAsDataURL(blob);\n    });\n\n  const base64ToBlob = (b64, mime) => {\n    const bytes = atob(b64);\n    const arr = new Uint8Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) arr[i] = bytes.charCodeAt(i);\n    return new Blob([arr], { type: mime });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-6 flex flex-col items-center\">\n      <h1 className=\"text-4xl font-bold mb-8 text-green-700\">KisanAI üåæ</h1>\n\n      {/* Voice Button */}\n      <div className=\"flex flex-col items-center gap-4 mb-6\">\n        <button\n          onClick={isListening ? stopListening : startListening}\n          disabled={isProcessing}\n          className={`w-20 h-20 rounded-full flex items-center justify-center text-white shadow-xl transition-all ${\n            isListening \n              ? 'bg-red-500 animate-pulse scale-110' \n              : isProcessing\n              ? 'bg-gray-400'\n              : 'bg-green-500 hover:scale-110 hover:shadow-2xl'\n          }`}\n        >\n          {isListening ? <MicOff size={32} /> : <Mic size={32} />}\n        </button>\n\n        {isListening && (\n          <p className=\"text-red-600 font-bold animate-pulse\">\n            üî¥ Recording... Click to stop\n          </p>\n        )}\n\n        {isProcessing && (\n          <p className=\"text-blue-600 font-bold\">\n            ‚è≥ Processing...\n          </p>\n        )}\n\n        {isSpeaking && (\n          <div className=\"flex items-center gap-2 text-purple-600 font-bold\">\n            <Volume2 className=\"animate-pulse\" />\n            Speaking...\n          </div>\n        )}\n\n        <select\n          value={selectedLanguage}\n          onChange={(e) => setSelectedLanguage(e.target.value)}\n          className=\"px-6 py-3 rounded-lg border-2 border-green-300 text-lg font-semibold\"\n          disabled={isListening || isProcessing}\n        >\n          {languages.map((lang) => (\n            <option key={lang.code} value={lang.code}>\n              {lang.flag} {lang.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Text Input */}\n      <div className=\"w-full max-w-2xl mb-6\">\n        <textarea\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n          placeholder=\"Or type your message here...\"\n          className=\"w-full p-4 border-2 border-green-200 rounded-xl text-lg resize-none\"\n          rows={3}\n        />\n        <button\n          onClick={sendMessage}\n          disabled={isProcessing || !text.trim()}\n          className=\"mt-2 w-full bg-green-500 text-white px-6 py-3 rounded-xl hover:bg-green-600 disabled:bg-gray-300 font-bold\"\n        >\n          Send Message\n        </button>\n      </div>\n\n      {/* Messages */}\n      <div className=\"w-full max-w-2xl flex flex-col gap-4\">\n        {messages.map((msg, idx) => (\n          <div\n            key={idx}\n            className={`p-4 rounded-xl shadow-md ${\n              msg.role === 'user'\n                ? 'bg-purple-100 self-end max-w-[80%]'\n                : 'bg-green-100 self-start max-w-[80%]'\n            }`}\n          >\n            <div className=\"font-bold text-sm mb-1\">\n              {msg.role === 'user' ? 'üë®‚Äçüåæ You' : 'ü§ñ KisanAI'}\n            </div>\n            <div className=\"text-lg\">{msg.content}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}