{"ast":null,"code":"var _jsxFileName = \"D:\\\\Vedi_Practice\\\\AI\\\\kisan_vani\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Mic, MicOff, Volume2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [isListening, setIsListening] = useState(false);\n  const [text, setText] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('hi-IN');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const audioRef = useRef(new Audio());\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const streamRef = useRef(null);\n  const languages = [{\n    code: 'hi-IN',\n    name: '‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'en-US',\n    name: 'English',\n    flag: 'üá∫üá∏'\n  }, {\n    code: 'mr-IN',\n    name: '‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'gu-IN',\n    name: '‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä (Gujarati)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'bn-IN',\n    name: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'te-IN',\n    name: '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'ta-IN',\n    name: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'kn-IN',\n    name: '‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'ml-IN',\n    name: '‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç (Malayalam)',\n    flag: 'üáÆüá≥'\n  }, {\n    code: 'pa-IN',\n    name: '‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)',\n    flag: 'üáÆüá≥'\n  }];\n\n  // Start Recording\n  const startListening = async () => {\n    try {\n      console.log('üé§ Requesting microphone access...');\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          channelCount: 1,\n          sampleRate: 48000,\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true,\n          volume: 1.0\n        }\n      });\n      streamRef.current = stream;\n      console.log('‚úÖ Microphone access granted');\n\n      // Use best available format for Google STT\n      let mimeType;\n      if (MediaRecorder.isTypeSupported('audio/webm;codecs=opus')) {\n        mimeType = 'audio/webm;codecs=opus';\n      } else if (MediaRecorder.isTypeSupported('audio/webm')) {\n        mimeType = 'audio/webm';\n      } else if (MediaRecorder.isTypeSupported('audio/ogg;codecs=opus')) {\n        mimeType = 'audio/ogg;codecs=opus';\n      } else {\n        mimeType = 'audio/ogg';\n      }\n      console.log('üìº Using MIME type:', mimeType);\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType,\n        audioBitsPerSecond: 128000 // Higher quality\n      });\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      mediaRecorder.ondataavailable = e => {\n        if (e.data.size > 0) {\n          console.log('üì¶ Audio chunk:', e.data.size, 'bytes');\n          audioChunksRef.current.push(e.data);\n        }\n      };\n      mediaRecorder.onstop = async () => {\n        console.log('üõë Recording stopped');\n        console.log('üì¶ Total chunks:', audioChunksRef.current.length);\n\n        // Stop all tracks\n        if (streamRef.current) {\n          streamRef.current.getTracks().forEach(track => {\n            track.stop();\n            console.log('üîå Track stopped:', track.kind);\n          });\n          streamRef.current = null;\n        }\n        if (audioChunksRef.current.length === 0) {\n          alert('‚ùå No audio recorded. Please try again.');\n          return;\n        }\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: mimeType\n        });\n        console.log('üéµ Audio blob size:', audioBlob.size, 'bytes');\n        console.log('üéµ Audio MIME type:', audioBlob.type);\n        if (audioBlob.size < 5000) {\n          alert('‚ö†Ô∏è Audio too short. Please speak louder and for at least 3 seconds.');\n          return;\n        }\n\n        // Convert to base64 and send\n        const base64Audio = await blobToBase64(audioBlob);\n        await processVoiceMessage(base64Audio);\n      };\n\n      // Start recording (collect chunks every 250ms for better quality)\n      mediaRecorder.start(250);\n      setIsListening(true);\n      console.log('üî¥ Recording started - Speak now!');\n    } catch (err) {\n      console.error('‚ùå Microphone error:', err);\n      if (err.name === 'NotAllowedError') {\n        alert('üé§ Microphone permission denied. Please allow microphone access.');\n      } else if (err.name === 'NotFoundError') {\n        alert('üé§ No microphone found. Please connect a microphone.');\n      } else {\n        alert(`‚ùå Error: ${err.message}`);\n      }\n    }\n  };\n\n  // Stop Recording\n  const stopListening = () => {\n    const recorder = mediaRecorderRef.current;\n    if (!recorder) {\n      console.log('‚ö†Ô∏è No active recorder');\n      return;\n    }\n    if (recorder.state === 'recording') {\n      console.log('üõë Stopping recorder...');\n      recorder.stop();\n      setIsListening(false);\n    } else {\n      console.log('‚ö†Ô∏è Recorder not in recording state:', recorder.state);\n    }\n  };\n\n  // Process Voice: STT ‚Üí Chat ‚Üí TTS\n  const processVoiceMessage = async audioBase64 => {\n    try {\n      setIsProcessing(true);\n      const sttRes = await fetch('http://localhost:8000/voice/stt', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          audio: audioBase64,\n          language: selectedLanguage\n        })\n      });\n      if (!sttRes.ok) {\n        throw new Error('STT failed');\n      }\n      const sttData = await sttRes.json();\n      if (!sttData.text || sttData.text.trim() === '') {\n        alert('Could not understand speech');\n        return;\n      }\n\n      // ‚úÖ ONLY fill text & messages\n      setText(sttData.text);\n      setMessages(prev => [...prev, {\n        role: 'user',\n        content: sttData.text\n      }]);\n\n      // ‚ùå NO CHAT\n      // ‚ùå NO AUDIO\n    } catch (err) {\n      console.error(err);\n      alert(err.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Manual Text Send\n  const sendMessage = async () => {\n    if (!text.trim()) return;\n    const userMsg = {\n      role: 'user',\n      content: text\n    };\n    setMessages(prev => [...prev, userMsg]);\n    const messageText = text;\n    setText('');\n    setIsProcessing(true);\n    try {\n      const res = await fetch('http://localhost:8000/voice/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: messageText,\n          language: selectedLanguage,\n          farmer_id: 'farmer_123',\n          farmer_name: 'Ramesh Kumar'\n        })\n      });\n      const data = await res.json();\n      const aiMsg = {\n        role: 'assistant',\n        content: data.response\n      };\n      setMessages(prev => [...prev, aiMsg]);\n      if (data.audio) {\n        playAudio(data.audio);\n      }\n    } catch (err) {\n      console.error(err);\n      alert('Failed to send message');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Play Audio\n  const playAudio = base64Audio => {\n    try {\n      setIsSpeaking(true);\n      const audioBlob = base64ToBlob(base64Audio, 'audio/mp3');\n      const audioUrl = URL.createObjectURL(audioBlob);\n      audioRef.current.src = audioUrl;\n      audioRef.current.onended = () => {\n        setIsSpeaking(false);\n        URL.revokeObjectURL(audioUrl);\n      };\n      audioRef.current.onerror = e => {\n        console.error('Audio play error:', e);\n        setIsSpeaking(false);\n      };\n      audioRef.current.play().catch(err => {\n        console.error('Play failed:', err);\n        setIsSpeaking(false);\n      });\n      console.log('‚ñ∂Ô∏è Audio playing');\n    } catch (err) {\n      console.error('Audio play error:', err);\n      setIsSpeaking(false);\n    }\n  };\n\n  // Helpers\n  const blobToBase64 = blob => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const base64 = reader.result.split(',')[1];\n      console.log('‚úÖ Converted to base64, length:', base64.length);\n      resolve(base64);\n    };\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n  const base64ToBlob = (b64, mime) => {\n    const bytes = atob(b64);\n    const arr = new Uint8Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) arr[i] = bytes.charCodeAt(i);\n    return new Blob([arr], {\n      type: mime\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-6 flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold mb-8 text-green-700\",\n      children: \"KisanAI \\uD83C\\uDF3E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: isListening ? stopListening : startListening,\n        disabled: isProcessing,\n        className: `w-20 h-20 rounded-full flex items-center justify-center text-white shadow-xl transition-all ${isListening ? 'bg-red-500 animate-pulse scale-110' : isProcessing ? 'bg-gray-400' : 'bg-green-500 hover:scale-110 hover:shadow-2xl'}`,\n        children: isListening ? /*#__PURE__*/_jsxDEV(MicOff, {\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), isListening && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 font-bold animate-pulse\",\n        children: \"\\uD83D\\uDD34 Recording... Click to stop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-blue-600 font-bold\",\n        children: \"\\u23F3 Processing...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this), isSpeaking && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 text-purple-600 font-bold\",\n        children: [/*#__PURE__*/_jsxDEV(Volume2, {\n          className: \"animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this), \"Speaking...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedLanguage,\n        onChange: e => setSelectedLanguage(e.target.value),\n        className: \"px-6 py-3 rounded-lg border-2 border-green-300 text-lg font-semibold\",\n        disabled: isListening || isProcessing,\n        children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: lang.code,\n          children: [lang.flag, \" \", lang.name]\n        }, lang.code, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: text,\n        onChange: e => setText(e.target.value),\n        placeholder: \"Or type your message here...\",\n        className: \"w-full p-4 border-2 border-green-200 rounded-xl text-lg resize-none\",\n        rows: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendMessage,\n        disabled: isProcessing || !text.trim(),\n        className: \"mt-2 w-full bg-green-500 text-white px-6 py-3 rounded-xl hover:bg-green-600 disabled:bg-gray-300 font-bold\",\n        children: \"Send Message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl flex flex-col gap-4\",\n      children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-xl shadow-md ${msg.role === 'user' ? 'bg-purple-100 self-end max-w-[80%]' : 'bg-green-100 self-start max-w-[80%]'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-bold text-sm mb-1\",\n          children: msg.role === 'user' ? 'üë®‚Äçüåæ You' : 'ü§ñ KisanAI'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg\",\n          children: msg.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"NME9p2RcVIq6jI5cNm+vsYhw+0c=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","Mic","MicOff","Volume2","jsxDEV","_jsxDEV","App","_s","isListening","setIsListening","text","setText","messages","setMessages","selectedLanguage","setSelectedLanguage","isProcessing","setIsProcessing","isSpeaking","setIsSpeaking","audioRef","Audio","mediaRecorderRef","audioChunksRef","streamRef","languages","code","name","flag","startListening","console","log","stream","navigator","mediaDevices","getUserMedia","audio","channelCount","sampleRate","echoCancellation","noiseSuppression","autoGainControl","volume","current","mimeType","MediaRecorder","isTypeSupported","mediaRecorder","audioBitsPerSecond","ondataavailable","e","data","size","push","onstop","length","getTracks","forEach","track","stop","kind","alert","audioBlob","Blob","type","base64Audio","blobToBase64","processVoiceMessage","start","err","error","message","stopListening","recorder","state","audioBase64","sttRes","fetch","method","headers","body","JSON","stringify","language","ok","Error","sttData","json","trim","prev","role","content","sendMessage","userMsg","messageText","res","farmer_id","farmer_name","aiMsg","response","playAudio","base64ToBlob","audioUrl","URL","createObjectURL","src","onended","revokeObjectURL","onerror","play","catch","blob","Promise","resolve","reject","reader","FileReader","onloadend","base64","result","split","readAsDataURL","b64","mime","bytes","atob","arr","Uint8Array","i","charCodeAt","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","value","onChange","target","map","lang","placeholder","rows","msg","idx","_c","$RefreshReg$"],"sources":["D:/Vedi_Practice/AI/kisan_vani/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Mic, MicOff, Volume2 } from 'lucide-react';\n\nexport default function App() {\n  const [isListening, setIsListening] = useState(false);\n  const [text, setText] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('hi-IN');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n\n  const audioRef = useRef(new Audio());\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const streamRef = useRef(null);\n\n  const languages = [\n    { code: 'hi-IN', name: '‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)', flag: 'üáÆüá≥' },\n    { code: 'en-US', name: 'English', flag: 'üá∫üá∏' },\n    { code: 'mr-IN', name: '‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi)', flag: 'üáÆüá≥' },\n    { code: 'gu-IN', name: '‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä (Gujarati)', flag: 'üáÆüá≥' },\n    { code: 'bn-IN', name: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)', flag: 'üáÆüá≥' },\n    { code: 'te-IN', name: '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)', flag: 'üáÆüá≥' },\n    { code: 'ta-IN', name: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)', flag: 'üáÆüá≥' },\n    { code: 'kn-IN', name: '‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)', flag: 'üáÆüá≥' },\n    { code: 'ml-IN', name: '‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç (Malayalam)', flag: 'üáÆüá≥' },\n    { code: 'pa-IN', name: '‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)', flag: 'üáÆüá≥' }\n  ];\n\n  // Start Recording\n  const startListening = async () => {\n    try {\n      console.log('üé§ Requesting microphone access...');\n      \n      const stream = await navigator.mediaDevices.getUserMedia({ \n        audio: {\n          channelCount: 1,\n          sampleRate: 48000,\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true,\n          volume: 1.0\n        }\n      });\n\n      streamRef.current = stream;\n      console.log('‚úÖ Microphone access granted');\n\n      // Use best available format for Google STT\n      let mimeType;\n      if (MediaRecorder.isTypeSupported('audio/webm;codecs=opus')) {\n        mimeType = 'audio/webm;codecs=opus';\n      } else if (MediaRecorder.isTypeSupported('audio/webm')) {\n        mimeType = 'audio/webm';\n      } else if (MediaRecorder.isTypeSupported('audio/ogg;codecs=opus')) {\n        mimeType = 'audio/ogg;codecs=opus';\n      } else {\n        mimeType = 'audio/ogg';\n      }\n\n      console.log('üìº Using MIME type:', mimeType);\n\n      const mediaRecorder = new MediaRecorder(stream, { \n        mimeType,\n        audioBitsPerSecond: 128000 // Higher quality\n      });\n      \n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.ondataavailable = (e) => {\n        if (e.data.size > 0) {\n          console.log('üì¶ Audio chunk:', e.data.size, 'bytes');\n          audioChunksRef.current.push(e.data);\n        }\n      };\n\n      mediaRecorder.onstop = async () => {\n        console.log('üõë Recording stopped');\n        console.log('üì¶ Total chunks:', audioChunksRef.current.length);\n        \n        // Stop all tracks\n        if (streamRef.current) {\n          streamRef.current.getTracks().forEach(track => {\n            track.stop();\n            console.log('üîå Track stopped:', track.kind);\n          });\n          streamRef.current = null;\n        }\n        \n        if (audioChunksRef.current.length === 0) {\n          alert('‚ùå No audio recorded. Please try again.');\n          return;\n        }\n\n        const audioBlob = new Blob(audioChunksRef.current, { type: mimeType });\n        console.log('üéµ Audio blob size:', audioBlob.size, 'bytes');\n        console.log('üéµ Audio MIME type:', audioBlob.type);\n\n        if (audioBlob.size < 5000) {\n          alert('‚ö†Ô∏è Audio too short. Please speak louder and for at least 3 seconds.');\n          return;\n        }\n\n        // Convert to base64 and send\n        const base64Audio = await blobToBase64(audioBlob);\n        await processVoiceMessage(base64Audio);\n      };\n\n      // Start recording (collect chunks every 250ms for better quality)\n      mediaRecorder.start(250);\n      setIsListening(true);\n      console.log('üî¥ Recording started - Speak now!');\n\n    } catch (err) {\n      console.error('‚ùå Microphone error:', err);\n      if (err.name === 'NotAllowedError') {\n        alert('üé§ Microphone permission denied. Please allow microphone access.');\n      } else if (err.name === 'NotFoundError') {\n        alert('üé§ No microphone found. Please connect a microphone.');\n      } else {\n        alert(`‚ùå Error: ${err.message}`);\n      }\n    }\n  };\n\n  // Stop Recording\n  const stopListening = () => {\n    const recorder = mediaRecorderRef.current;\n    \n    if (!recorder) {\n      console.log('‚ö†Ô∏è No active recorder');\n      return;\n    }\n\n    if (recorder.state === 'recording') {\n      console.log('üõë Stopping recorder...');\n      recorder.stop();\n      setIsListening(false);\n    } else {\n      console.log('‚ö†Ô∏è Recorder not in recording state:', recorder.state);\n    }\n  };\n\n  // Process Voice: STT ‚Üí Chat ‚Üí TTS\n  const processVoiceMessage = async (audioBase64) => {\n  try {\n    setIsProcessing(true);\n\n    const sttRes = await fetch('http://localhost:8000/voice/stt', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        audio: audioBase64,\n        language: selectedLanguage\n      })\n    });\n\n    if (!sttRes.ok) {\n      throw new Error('STT failed');\n    }\n\n    const sttData = await sttRes.json();\n\n    if (!sttData.text || sttData.text.trim() === '') {\n      alert('Could not understand speech');\n      return;\n    }\n\n    // ‚úÖ ONLY fill text & messages\n    setText(sttData.text);\n    setMessages(prev => [...prev, { role: 'user', content: sttData.text }]);\n\n    // ‚ùå NO CHAT\n    // ‚ùå NO AUDIO\n\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  } finally {\n    setIsProcessing(false);\n  }\n};\n\n\n  // Manual Text Send\n  const sendMessage = async () => {\n    if (!text.trim()) return;\n\n    const userMsg = { role: 'user', content: text };\n    setMessages(prev => [...prev, userMsg]);\n    const messageText = text;\n    setText('');\n    setIsProcessing(true);\n\n    try {\n      const res = await fetch('http://localhost:8000/voice/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          message: messageText,\n          language: selectedLanguage,\n          farmer_id: 'farmer_123',\n          farmer_name: 'Ramesh Kumar'\n        })\n      });\n\n      const data = await res.json();\n      const aiMsg = { role: 'assistant', content: data.response };\n      setMessages(prev => [...prev, aiMsg]);\n\n      if (data.audio) {\n        playAudio(data.audio);\n      }\n\n    } catch (err) {\n      console.error(err);\n      alert('Failed to send message');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Play Audio\n  const playAudio = (base64Audio) => {\n    try {\n      setIsSpeaking(true);\n      const audioBlob = base64ToBlob(base64Audio, 'audio/mp3');\n      const audioUrl = URL.createObjectURL(audioBlob);\n      \n      audioRef.current.src = audioUrl;\n      audioRef.current.onended = () => {\n        setIsSpeaking(false);\n        URL.revokeObjectURL(audioUrl);\n      };\n      audioRef.current.onerror = (e) => {\n        console.error('Audio play error:', e);\n        setIsSpeaking(false);\n      };\n      audioRef.current.play().catch(err => {\n        console.error('Play failed:', err);\n        setIsSpeaking(false);\n      });\n      console.log('‚ñ∂Ô∏è Audio playing');\n    } catch (err) {\n      console.error('Audio play error:', err);\n      setIsSpeaking(false);\n    }\n  };\n\n  // Helpers\n  const blobToBase64 = (blob) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        const base64 = reader.result.split(',')[1];\n        console.log('‚úÖ Converted to base64, length:', base64.length);\n        resolve(base64);\n      };\n      reader.onerror = reject;\n      reader.readAsDataURL(blob);\n    });\n\n  const base64ToBlob = (b64, mime) => {\n    const bytes = atob(b64);\n    const arr = new Uint8Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) arr[i] = bytes.charCodeAt(i);\n    return new Blob([arr], { type: mime });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-6 flex flex-col items-center\">\n      <h1 className=\"text-4xl font-bold mb-8 text-green-700\">KisanAI üåæ</h1>\n\n      {/* Voice Button */}\n      <div className=\"flex flex-col items-center gap-4 mb-6\">\n        <button\n          onClick={isListening ? stopListening : startListening}\n          disabled={isProcessing}\n          className={`w-20 h-20 rounded-full flex items-center justify-center text-white shadow-xl transition-all ${\n            isListening \n              ? 'bg-red-500 animate-pulse scale-110' \n              : isProcessing\n              ? 'bg-gray-400'\n              : 'bg-green-500 hover:scale-110 hover:shadow-2xl'\n          }`}\n        >\n          {isListening ? <MicOff size={32} /> : <Mic size={32} />}\n        </button>\n\n        {isListening && (\n          <p className=\"text-red-600 font-bold animate-pulse\">\n            üî¥ Recording... Click to stop\n          </p>\n        )}\n\n        {isProcessing && (\n          <p className=\"text-blue-600 font-bold\">\n            ‚è≥ Processing...\n          </p>\n        )}\n\n        {isSpeaking && (\n          <div className=\"flex items-center gap-2 text-purple-600 font-bold\">\n            <Volume2 className=\"animate-pulse\" />\n            Speaking...\n          </div>\n        )}\n\n        <select\n          value={selectedLanguage}\n          onChange={(e) => setSelectedLanguage(e.target.value)}\n          className=\"px-6 py-3 rounded-lg border-2 border-green-300 text-lg font-semibold\"\n          disabled={isListening || isProcessing}\n        >\n          {languages.map((lang) => (\n            <option key={lang.code} value={lang.code}>\n              {lang.flag} {lang.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Text Input */}\n      <div className=\"w-full max-w-2xl mb-6\">\n        <textarea\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n          placeholder=\"Or type your message here...\"\n          className=\"w-full p-4 border-2 border-green-200 rounded-xl text-lg resize-none\"\n          rows={3}\n        />\n        <button\n          onClick={sendMessage}\n          disabled={isProcessing || !text.trim()}\n          className=\"mt-2 w-full bg-green-500 text-white px-6 py-3 rounded-xl hover:bg-green-600 disabled:bg-gray-300 font-bold\"\n        >\n          Send Message\n        </button>\n      </div>\n\n      {/* Messages */}\n      <div className=\"w-full max-w-2xl flex flex-col gap-4\">\n        {messages.map((msg, idx) => (\n          <div\n            key={idx}\n            className={`p-4 rounded-xl shadow-md ${\n              msg.role === 'user'\n                ? 'bg-purple-100 self-end max-w-[80%]'\n                : 'bg-green-100 self-start max-w-[80%]'\n            }`}\n          >\n            <div className=\"font-bold text-sm mb-1\">\n              {msg.role === 'user' ? 'üë®‚Äçüåæ You' : 'ü§ñ KisanAI'}\n            </div>\n            <div className=\"text-lg\">{msg.content}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}