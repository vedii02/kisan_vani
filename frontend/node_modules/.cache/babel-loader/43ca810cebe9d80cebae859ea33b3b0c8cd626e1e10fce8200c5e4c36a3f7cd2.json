{"ast":null,"code":"var _jsxFileName = \"D:\\\\Vedi_Practice\\\\AI\\\\kisan_vani\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Mic, MicOff } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [isListening, setIsListening] = useState(false);\n  const [text, setText] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('hi-IN');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const recognitionRef = useRef(null);\n  const audioRef = useRef(new Audio());\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const languages = [{\n    code: 'hi-IN',\n    name: 'à¤¹à¤¿à¤‚à¤¦à¥€ (Hindi)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'en-US',\n    name: 'English',\n    flag: 'ðŸ‡ºðŸ‡¸'\n  }, {\n    code: 'mr-IN',\n    name: 'à¤®à¤°à¤¾à¤ à¥€ (Marathi)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'gu-IN',\n    name: 'àª—à«àªœàª°àª¾àª¤à«€ (Gujarati)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'bn-IN',\n    name: 'à¦¬à¦¾à¦‚à¦²à¦¾ (Bengali)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'te-IN',\n    name: 'à°¤à±†à°²à±à°—à± (Telugu)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'ta-IN',\n    name: 'à®¤à®®à®¿à®´à¯ (Tamil)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'kn-IN',\n    name: 'à²•à²¨à³à²¨à²¡ (Kannada)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'ml-IN',\n    name: 'à´®à´²à´¯à´¾à´³à´‚ (Malayalam)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'pa-IN',\n    name: 'à¨ªà©°à¨œà¨¾à¨¬à©€ (Punjabi)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }];\n\n  // Initialize Web Speech API\n  useEffect(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SpeechRecognition) {\n      alert('Your browser does not support Speech Recognition');\n      return;\n    }\n    const recognition = new SpeechRecognition();\n    recognition.continuous = true;\n    recognition.interimResults = true;\n    recognition.lang = selectedLanguage;\n    recognition.onresult = event => {\n      let interimTranscript = '';\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        const transcriptSegment = event.results[i][0].transcript;\n        if (event.results[i].isFinal) {\n          setText(prev => transcriptSegment); // final\n        } else {\n          interimTranscript += transcriptSegment; // live\n          setText(interimTranscript);\n        }\n      }\n    };\n    recognitionRef.current = recognition;\n  }, [selectedLanguage]);\n  const startListening = () => {\n    if (!recognitionRef.current) return;\n    recognitionRef.current.start();\n    setIsListening(true);\n  };\n  const stopListening = () => {\n    if (!recognitionRef.current) return;\n    recognitionRef.current.stop();\n    setIsListening(false);\n  };\n  const sendMessage = async () => {\n    if (!text.trim()) return;\n    const userMsg = {\n      role: 'user',\n      content: text\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setText('');\n    setIsProcessing(true);\n    try {\n      // Send message with farmer info\n      const res = await fetch('http://localhost:8000/voice/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: userMsg.content,\n          language: selectedLanguage,\n          farmer_id: \"farmer_123\",\n          // Replace with real farmer ID from login\n          farmer_name: \"Ramesh Kumar\" // Replace with real farmer name\n        })\n      });\n      if (!res.ok) {\n        throw new Error(`HTTP error! status: ${res.status}`);\n      }\n      const data = await res.json();\n      console.log('âœ… Response:', data);\n      const aiMsg = {\n        role: 'assistant',\n        content: data.response\n      };\n      setMessages(prev => [...prev, aiMsg]);\n\n      // Play TTS\n      const ttsRes = await fetch('http://localhost:8000/voice/tts', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: data.response,\n          language: selectedLanguage\n        })\n      });\n      const ttsData = await ttsRes.json();\n      if (!ttsData.audio) {\n        throw new Error(\"TTS audio missing from response\");\n      }\n      const audioBlob = base64ToBlob(ttsData.audio, 'audio/mp3');\n      const audioUrl = URL.createObjectURL(audioBlob);\n      audioRef.current.src = audioUrl;\n      audioRef.current.play();\n      audioRef.current.onended = () => URL.revokeObjectURL(audioUrl);\n    } catch (err) {\n      console.error('âŒ Full Error:', err);\n      alert(`Error: ${err.message}`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const sendChat = async (message, farmerId, farmerName) => {\n    const response = await fetch('http://localhost:8000/voice/chat', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        message: message,\n        language: 'hi-IN',\n        farmer_id: farmerId,\n        // Use consistent ID\n        farmer_name: farmerName\n      })\n    });\n    const data = await response.json();\n\n    // data.response = AI text response\n    // data.audio = Base64 audio (play in <audio> tag)\n    // data.saved = true/false\n\n    return data;\n  };\n  const getHistory = async farmerId => {\n    const response = await fetch(`http://localhost:8000/voice/history/${farmerId}`);\n    const history = await response.json();\n    return history; // Array of chat objects\n  };\n  const playAudio = base64Audio => {\n    const audio = new Audio(`data:audio/mp3;base64,${base64Audio}`);\n    audio.play();\n  };\n  const base64ToBlob = (b64, mime) => {\n    const bytes = atob(b64);\n    const arr = new Uint8Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) arr[i] = bytes.charCodeAt(i);\n    return new Blob([arr], {\n      type: mime\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-green-50 p-6 flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-6\",\n      children: \"KisanAI \\uD83C\\uDF3E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: isListening ? stopListening : startListening,\n        className: `w-16 h-16 rounded-full flex items-center justify-center text-white ${isListening ? 'bg-red-500 animate-pulse' : 'bg-green-500 hover:scale-105'}`,\n        children: isListening ? /*#__PURE__*/_jsxDEV(MicOff, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(Mic, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedLanguage,\n        onChange: e => setSelectedLanguage(e.target.value),\n        className: \"px-4 py-2 rounded border\",\n        children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: lang.code,\n          children: [lang.flag, \" \", lang.name]\n        }, lang.code, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 34\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: text,\n      onChange: e => setText(e.target.value),\n      placeholder: \"Your speech will appear here...\",\n      className: \"w-full max-w-xl p-4 border rounded-lg mb-4 text-lg\",\n      rows: 3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendMessage,\n      disabled: isProcessing || !text.trim(),\n      className: \"bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 mb-6\",\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-xl flex flex-col gap-4\",\n      children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg ${msg.role === 'user' ? 'bg-purple-200 self-end' : 'bg-green-200 self-start'}`,\n        children: msg.content\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"3lyIe+4Pr6meifTZSw3LJkno9mo=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Mic","MicOff","jsxDEV","_jsxDEV","App","_s","isListening","setIsListening","text","setText","messages","setMessages","selectedLanguage","setSelectedLanguage","isProcessing","setIsProcessing","recognitionRef","audioRef","Audio","mediaRecorderRef","audioChunksRef","languages","code","name","flag","SpeechRecognition","window","webkitSpeechRecognition","alert","recognition","continuous","interimResults","lang","onresult","event","interimTranscript","i","resultIndex","results","length","transcriptSegment","transcript","isFinal","prev","current","startListening","start","stopListening","stop","sendMessage","trim","userMsg","role","content","res","fetch","method","headers","body","JSON","stringify","message","language","farmer_id","farmer_name","ok","Error","status","data","json","console","log","aiMsg","response","ttsRes","ttsData","audio","audioBlob","base64ToBlob","audioUrl","URL","createObjectURL","src","play","onended","revokeObjectURL","err","error","sendChat","farmerId","farmerName","getHistory","history","playAudio","base64Audio","b64","mime","bytes","atob","arr","Uint8Array","charCodeAt","Blob","type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","e","target","map","placeholder","rows","disabled","msg","idx","_c","$RefreshReg$"],"sources":["D:/Vedi_Practice/AI/kisan_vani/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Mic, MicOff } from 'lucide-react';\n\nexport default function App() {\n  const [isListening, setIsListening] = useState(false);\n  const [text, setText] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('hi-IN');\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const recognitionRef = useRef(null);\n  const audioRef = useRef(new Audio());\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n\n\n  const languages = [\n  { code: 'hi-IN', name: 'à¤¹à¤¿à¤‚à¤¦à¥€ (Hindi)', flag: 'ðŸ‡®ðŸ‡³' },\n  { code: 'en-US', name: 'English', flag: 'ðŸ‡ºðŸ‡¸' },\n  { code: 'mr-IN', name: 'à¤®à¤°à¤¾à¤ à¥€ (Marathi)', flag: 'ðŸ‡®ðŸ‡³' },\n  { code: 'gu-IN', name: 'àª—à«àªœàª°àª¾àª¤à«€ (Gujarati)', flag: 'ðŸ‡®ðŸ‡³' },\n  { code: 'bn-IN', name: 'à¦¬à¦¾à¦‚à¦²à¦¾ (Bengali)', flag: 'ðŸ‡®ðŸ‡³' },\n  { code: 'te-IN', name: 'à°¤à±†à°²à±à°—à± (Telugu)', flag: 'ðŸ‡®ðŸ‡³' },\n  { code: 'ta-IN', name: 'à®¤à®®à®¿à®´à¯ (Tamil)', flag: 'ðŸ‡®ðŸ‡³' },\n  { code: 'kn-IN', name: 'à²•à²¨à³à²¨à²¡ (Kannada)', flag: 'ðŸ‡®ðŸ‡³' },\n  { code: 'ml-IN', name: 'à´®à´²à´¯à´¾à´³à´‚ (Malayalam)', flag: 'ðŸ‡®ðŸ‡³' },\n  { code: 'pa-IN', name: 'à¨ªà©°à¨œà¨¾à¨¬à©€ (Punjabi)', flag: 'ðŸ‡®ðŸ‡³' }\n];\n\n  // Initialize Web Speech API\n  useEffect(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SpeechRecognition) {\n      alert('Your browser does not support Speech Recognition');\n      return;\n    }\n\n    const recognition = new SpeechRecognition();\n    recognition.continuous = true;\n    recognition.interimResults = true;\n    recognition.lang = selectedLanguage;\n\n    recognition.onresult = (event) => {\n      let interimTranscript = '';\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        const transcriptSegment = event.results[i][0].transcript;\n        if (event.results[i].isFinal) {\n          setText(prev => transcriptSegment); // final\n        } else {\n          interimTranscript += transcriptSegment; // live\n          setText(interimTranscript);\n        }\n      }\n    };\n\n    recognitionRef.current = recognition;\n  }, [selectedLanguage]);\n\n  const startListening = () => {\n    if (!recognitionRef.current) return;\n    recognitionRef.current.start();\n    setIsListening(true);\n  };\n\n  const stopListening = () => {\n    if (!recognitionRef.current) return;\n    recognitionRef.current.stop();\n    setIsListening(false);\n  };\n\n  const sendMessage = async () => {\n  if (!text.trim()) return;\n\n  const userMsg = { role: 'user', content: text };\n  setMessages(prev => [...prev, userMsg]);\n  setText('');\n  setIsProcessing(true);\n\n  try {\n    // Send message with farmer info\n    const res = await fetch('http://localhost:8000/voice/chat', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ \n        message: userMsg.content, \n        language: selectedLanguage,\n        farmer_id: \"farmer_123\",  // Replace with real farmer ID from login\n        farmer_name: \"Ramesh Kumar\"  // Replace with real farmer name\n      })\n    });\n\n    if (!res.ok) {\n      throw new Error(`HTTP error! status: ${res.status}`);\n    }\n\n    const data = await res.json();\n    console.log('âœ… Response:', data);\n    \n    const aiMsg = { role: 'assistant', content: data.response };\n    setMessages(prev => [...prev, aiMsg]);\n\n    // Play TTS\n    const ttsRes = await fetch('http://localhost:8000/voice/tts', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ text: data.response, language: selectedLanguage })\n    });\n    \n    const ttsData = await ttsRes.json();\n    if (!ttsData.audio) {\n  throw new Error(\"TTS audio missing from response\");\n}\n\nconst audioBlob = base64ToBlob(ttsData.audio, 'audio/mp3');\n\n    const audioUrl = URL.createObjectURL(audioBlob);\n    audioRef.current.src = audioUrl;\n    audioRef.current.play();\n    audioRef.current.onended = () => URL.revokeObjectURL(audioUrl);\n\n  } catch (err) {\n    console.error('âŒ Full Error:', err);\n    alert(`Error: ${err.message}`);\n  } finally {\n    setIsProcessing(false);\n  }\n};\n\nconst sendChat = async (message, farmerId, farmerName) => {\n  const response = await fetch('http://localhost:8000/voice/chat', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      message: message,\n      language: 'hi-IN',\n      farmer_id: farmerId,      // Use consistent ID\n      farmer_name: farmerName\n    })\n  });\n  \n  const data = await response.json();\n  \n  // data.response = AI text response\n  // data.audio = Base64 audio (play in <audio> tag)\n  // data.saved = true/false\n  \n  return data;\n};\n\nconst getHistory = async (farmerId) => {\n  const response = await fetch(\n    `http://localhost:8000/voice/history/${farmerId}`\n  );\n  const history = await response.json();\n  return history; // Array of chat objects\n};\n\nconst playAudio = (base64Audio) => {\n  const audio = new Audio(`data:audio/mp3;base64,${base64Audio}`);\n  audio.play();\n};\n\n\n  const base64ToBlob = (b64, mime) => {\n    const bytes = atob(b64);\n    const arr = new Uint8Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) arr[i] = bytes.charCodeAt(i);\n    return new Blob([arr], { type: mime });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-green-50 p-6 flex flex-col items-center\">\n      <h1 className=\"text-3xl font-bold mb-6\">KisanAI ðŸŒ¾</h1>\n\n      <div className=\"flex items-center gap-4 mb-4\">\n        <button\n          onClick={isListening ? stopListening : startListening}\n          className={`w-16 h-16 rounded-full flex items-center justify-center text-white ${\n            isListening ? 'bg-red-500 animate-pulse' : 'bg-green-500 hover:scale-105'\n          }`}\n        >\n          {isListening ? <MicOff /> : <Mic />}\n        </button>\n\n        <select value={selectedLanguage} onChange={e => setSelectedLanguage(e.target.value)} className=\"px-4 py-2 rounded border\">\n          {languages.map(lang => <option key={lang.code} value={lang.code}>{lang.flag} {lang.name}</option>)}\n        </select>\n      </div>\n\n      <textarea\n        value={text}\n        onChange={e => setText(e.target.value)}\n        placeholder=\"Your speech will appear here...\"\n        className=\"w-full max-w-xl p-4 border rounded-lg mb-4 text-lg\"\n        rows={3}\n      />\n\n      <button\n        onClick={sendMessage}\n        disabled={isProcessing || !text.trim()}\n        className=\"bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 mb-6\"\n      >\n        Send\n      </button>\n\n      <div className=\"w-full max-w-xl flex flex-col gap-4\">\n        {messages.map((msg, idx) => (\n          <div\n            key={idx}\n            className={`p-4 rounded-lg ${msg.role === 'user' ? 'bg-purple-200 self-end' : 'bg-green-200 self-start'}`}\n          >\n            {msg.content}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}