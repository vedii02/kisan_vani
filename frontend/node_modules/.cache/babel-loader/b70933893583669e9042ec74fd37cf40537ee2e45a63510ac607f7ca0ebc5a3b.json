{"ast":null,"code":"var _jsxFileName = \"D:\\\\Vedi_Practice\\\\AI\\\\kisan_vani\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Mic, MicOff } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [isListening, setIsListening] = useState(false);\n  const [text, setText] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('hi-IN');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const audioRef = useRef(new Audio());\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const languages = [{\n    code: 'hi-IN',\n    name: 'à¤¹à¤¿à¤‚à¤¦à¥€ (Hindi)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'en-US',\n    name: 'English',\n    flag: 'ðŸ‡ºðŸ‡¸'\n  }, {\n    code: 'mr-IN',\n    name: 'à¤®à¤°à¤¾à¤ à¥€ (Marathi)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'gu-IN',\n    name: 'àª—à«àªœàª°àª¾àª¤à«€ (Gujarati)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'bn-IN',\n    name: 'à¦¬à¦¾à¦‚à¦²à¦¾ (Bengali)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'te-IN',\n    name: 'à°¤à±†à°²à±à°—à± (Telugu)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'ta-IN',\n    name: 'à®¤à®®à®¿à®´à¯ (Tamil)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'kn-IN',\n    name: 'à²•à²¨à³à²¨à²¡ (Kannada)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'ml-IN',\n    name: 'à´®à´²à´¯à´¾à´³à´‚ (Malayalam)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }, {\n    code: 'pa-IN',\n    name: 'à¨ªà©°à¨œà¨¾à¨¬à©€ (Punjabi)',\n    flag: 'ðŸ‡®ðŸ‡³'\n  }];\n\n  // ðŸŽ¤ Start Mic\n  const startListening = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          sampleRate: 48000,\n          channelCount: 1,\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true\n        }\n      });\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'audio/webm;codecs=opus'\n      });\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      let recordTime = 0;\n      const timer = setInterval(() => {\n        recordTime += 100;\n        console.log(`Recording... ${Math.round(recordTime / 1000)}s`);\n      }, 100);\n      mediaRecorder.ondataavailable = e => {\n        console.log('Data available:', e.data.size);\n        if (e.data.size > 100) {\n          // Only save NON-EMPTY chunks\n          audioChunksRef.current.push(e.data);\n        }\n      };\n      mediaRecorder.start(250); // 250ms chunks\n      setIsListening(true);\n\n      // Auto-stop after 7 seconds for testing\n      setTimeout(() => {\n        clearInterval(timer);\n        stopListening();\n      }, 7000);\n    } catch (err) {\n      alert('Microphone permission denied');\n      console.error(err);\n    }\n  };\n\n  // ðŸ›‘ Stop Mic\n  const stopListening = () => {\n    const recorder = mediaRecorderRef.current;\n    if (!recorder) return;\n    recorder.stop();\n    setIsListening(false);\n    recorder.onstop = async () => {\n      console.log('Chunks length:', audioChunksRef.current.length);\n\n      // ðŸ”¥ ADD THESE 4 LINES TO TEST AUDIO\n      const audioBlob = new Blob(audioChunksRef.current, {\n        type: 'audio/webm'\n      });\n      const url = URL.createObjectURL(audioBlob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `test-${Date.now()}.webm`;\n      a.click(); // DOWNLOADS FILE - PLAY IT!\n\n      const base64Audio = await blobToBase64(audioBlob);\n      await sendAudioToBackend(base64Audio);\n    };\n  };\n\n  // ðŸ” Audio â†’ STT â†’ AI â†’ TTS\n  const sendAudioToBackend = async audioBase64 => {\n    try {\n      setIsProcessing(true);\n      const res = await fetch('http://localhost:8000/voice/stt', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          audio: audioBase64,\n          language: selectedLanguage,\n          farmer_id: 'farmer_123',\n          farmer_name: 'Ramesh Kumar'\n        })\n      });\n      const data = await res.json();\n      if (data.text) {\n        setText(data.text);\n        setMessages(prev => [...prev, {\n          role: 'user',\n          content: data.text\n        }]);\n      } else if (data.retry_message) {\n        setText(data.retry_message); // Show language message in box\n        console.log('Retry message:', data.retry_message);\n      }\n\n      // Only play AI response if user speech detected\n      if (data.text) {\n        const audioBlob = base64ToBlob(data.audio, 'audio/mp3');\n        const audioUrl = URL.createObjectURL(audioBlob);\n        audioRef.current.src = audioUrl;\n        audioRef.current.play();\n      }\n    } catch (err) {\n      console.error('STT failed', err);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // âœ‰ï¸ Manual Send (same as your original)\n  const sendMessage = async () => {\n    if (!text.trim()) return;\n    const userMsg = {\n      role: 'user',\n      content: text\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setText('');\n    setIsProcessing(true);\n    try {\n      const res = await fetch('http://localhost:8000/voice/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: userMsg.content,\n          language: selectedLanguage,\n          farmer_id: 'farmer_123',\n          farmer_name: 'Ramesh Kumar'\n        })\n      });\n      const data = await res.json();\n      const aiMsg = {\n        role: 'assistant',\n        content: data.response\n      };\n      setMessages(prev => [...prev, aiMsg]);\n      const ttsRes = await fetch('http://localhost:8000/voice/tts', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: data.response,\n          language: selectedLanguage\n        })\n      });\n      const ttsData = await ttsRes.json();\n      const audioBlob = base64ToBlob(ttsData.audio, 'audio/mp3');\n      const audioUrl = URL.createObjectURL(audioBlob);\n      audioRef.current.src = audioUrl;\n      audioRef.current.play();\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // ðŸ”§ Helpers\n  const blobToBase64 = blob => new Promise(resolve => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result.split(',')[1]);\n    reader.readAsDataURL(blob);\n  });\n  const base64ToBlob = (b64, mime) => {\n    const bytes = atob(b64);\n    const arr = new Uint8Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) arr[i] = bytes.charCodeAt(i);\n    return new Blob([arr], {\n      type: mime\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-green-50 p-6 flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-6\",\n      children: \"KisanAI \\uD83C\\uDF3E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: isListening ? stopListening : startListening,\n        className: `w-16 h-16 rounded-full flex items-center justify-center text-white ${isListening ? 'bg-red-500 animate-pulse' : 'bg-green-500 hover:scale-105'}`,\n        children: isListening ? /*#__PURE__*/_jsxDEV(MicOff, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(Mic, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedLanguage,\n        onChange: e => setSelectedLanguage(e.target.value),\n        className: \"px-4 py-2 rounded border\",\n        children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: lang.code,\n          children: [lang.flag, \" \", lang.name]\n        }, lang.code, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: text,\n      onChange: e => setText(e.target.value),\n      placeholder: \"Your speech will appear here...\",\n      className: \"w-full max-w-xl p-4 border rounded-lg mb-4 text-lg\",\n      rows: 3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendMessage,\n      disabled: isProcessing || !text.trim(),\n      className: \"bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 mb-6\",\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-xl flex flex-col gap-4\",\n      children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg ${msg.role === 'user' ? 'bg-purple-200 self-end' : 'bg-green-200 self-start'}`,\n        children: msg.content\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"NzyU2Yvtnc3GOzOvR0/v7o3NOgw=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","Mic","MicOff","jsxDEV","_jsxDEV","App","_s","isListening","setIsListening","text","setText","messages","setMessages","selectedLanguage","setSelectedLanguage","isProcessing","setIsProcessing","audioRef","Audio","mediaRecorderRef","audioChunksRef","languages","code","name","flag","startListening","stream","navigator","mediaDevices","getUserMedia","audio","sampleRate","channelCount","echoCancellation","noiseSuppression","autoGainControl","mediaRecorder","MediaRecorder","mimeType","current","recordTime","timer","setInterval","console","log","Math","round","ondataavailable","e","data","size","push","start","setTimeout","clearInterval","stopListening","err","alert","error","recorder","stop","onstop","length","audioBlob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","Date","now","click","base64Audio","blobToBase64","sendAudioToBackend","audioBase64","res","fetch","method","headers","body","JSON","stringify","language","farmer_id","farmer_name","json","prev","role","content","retry_message","base64ToBlob","audioUrl","src","play","sendMessage","trim","userMsg","message","aiMsg","response","ttsRes","ttsData","blob","Promise","resolve","reader","FileReader","onloadend","result","split","readAsDataURL","b64","mime","bytes","atob","arr","Uint8Array","i","charCodeAt","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","target","map","lang","placeholder","rows","disabled","msg","idx","_c","$RefreshReg$"],"sources":["D:/Vedi_Practice/AI/kisan_vani/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Mic, MicOff } from 'lucide-react';\n\nexport default function App() {\n  const [isListening, setIsListening] = useState(false);\n  const [text, setText] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('hi-IN');\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const audioRef = useRef(new Audio());\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n\n  const languages = [\n    { code: 'hi-IN', name: 'à¤¹à¤¿à¤‚à¤¦à¥€ (Hindi)', flag: 'ðŸ‡®ðŸ‡³' },\n    { code: 'en-US', name: 'English', flag: 'ðŸ‡ºðŸ‡¸' },\n    { code: 'mr-IN', name: 'à¤®à¤°à¤¾à¤ à¥€ (Marathi)', flag: 'ðŸ‡®ðŸ‡³' },\n    { code: 'gu-IN', name: 'àª—à«àªœàª°àª¾àª¤à«€ (Gujarati)', flag: 'ðŸ‡®ðŸ‡³' },\n    { code: 'bn-IN', name: 'à¦¬à¦¾à¦‚à¦²à¦¾ (Bengali)', flag: 'ðŸ‡®ðŸ‡³' },\n    { code: 'te-IN', name: 'à°¤à±†à°²à±à°—à± (Telugu)', flag: 'ðŸ‡®ðŸ‡³' },\n    { code: 'ta-IN', name: 'à®¤à®®à®¿à®´à¯ (Tamil)', flag: 'ðŸ‡®ðŸ‡³' },\n    { code: 'kn-IN', name: 'à²•à²¨à³à²¨à²¡ (Kannada)', flag: 'ðŸ‡®ðŸ‡³' },\n    { code: 'ml-IN', name: 'à´®à´²à´¯à´¾à´³à´‚ (Malayalam)', flag: 'ðŸ‡®ðŸ‡³' },\n    { code: 'pa-IN', name: 'à¨ªà©°à¨œà¨¾à¨¬à©€ (Punjabi)', flag: 'ðŸ‡®ðŸ‡³' }\n  ];\n\n  // ðŸŽ¤ Start Mic\n const startListening = async () => {\n  try {\n    const stream = await navigator.mediaDevices.getUserMedia({ \n      audio: {\n        sampleRate: 48000,\n        channelCount: 1,\n        echoCancellation: true,\n        noiseSuppression: true,\n        autoGainControl: true\n      }\n    });\n\n    const mediaRecorder = new MediaRecorder(stream, {\n      mimeType: 'audio/webm;codecs=opus'\n    });\n\n    mediaRecorderRef.current = mediaRecorder;\n    audioChunksRef.current = [];\n\n    let recordTime = 0;\n    const timer = setInterval(() => {\n      recordTime += 100;\n      console.log(`Recording... ${Math.round(recordTime/1000)}s`);\n    }, 100);\n\n    mediaRecorder.ondataavailable = (e) => {\n      console.log('Data available:', e.data.size);\n      if (e.data.size > 100) {  // Only save NON-EMPTY chunks\n        audioChunksRef.current.push(e.data);\n      }\n    };\n\n    mediaRecorder.start(250);  // 250ms chunks\n    setIsListening(true);\n\n    // Auto-stop after 7 seconds for testing\n    setTimeout(() => {\n      clearInterval(timer);\n      stopListening();\n    }, 7000);\n\n  } catch (err) {\n    alert('Microphone permission denied');\n    console.error(err);\n  }\n};\n\n\n\n// ðŸ›‘ Stop Mic\nconst stopListening = () => {\n  const recorder = mediaRecorderRef.current;\n  if (!recorder) return;\n\n  recorder.stop();\n  setIsListening(false);\n\n  recorder.onstop = async () => {\n  console.log('Chunks length:', audioChunksRef.current.length);\n  \n  // ðŸ”¥ ADD THESE 4 LINES TO TEST AUDIO\n  const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\n  const url = URL.createObjectURL(audioBlob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `test-${Date.now()}.webm`;\n  a.click();  // DOWNLOADS FILE - PLAY IT!\n  \n  const base64Audio = await blobToBase64(audioBlob);\n  await sendAudioToBackend(base64Audio);\n};\n\n};\n\n\n  // ðŸ” Audio â†’ STT â†’ AI â†’ TTS\n const sendAudioToBackend = async (audioBase64) => {\n  try {\n    setIsProcessing(true);\n\n    const res = await fetch('http://localhost:8000/voice/stt', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        audio: audioBase64,\n        language: selectedLanguage,\n        farmer_id: 'farmer_123',\n        farmer_name: 'Ramesh Kumar'\n      })\n    });\n\n    const data = await res.json();\n    \n    if (data.text) {\n      setText(data.text);\n      setMessages((prev) => [...prev, { role: 'user', content: data.text }]);\n    } else if (data.retry_message) {\n      setText(data.retry_message);  // Show language message in box\n      console.log('Retry message:', data.retry_message);\n    }\n\n    // Only play AI response if user speech detected\n    if (data.text) {\n      const audioBlob = base64ToBlob(data.audio, 'audio/mp3');\n      const audioUrl = URL.createObjectURL(audioBlob);\n      audioRef.current.src = audioUrl;\n      audioRef.current.play();\n    }\n\n  } catch (err) {\n    console.error('STT failed', err);\n  } finally {\n    setIsProcessing(false);\n  }\n};\n\n\n  // âœ‰ï¸ Manual Send (same as your original)\n  const sendMessage = async () => {\n    if (!text.trim()) return;\n\n    const userMsg = { role: 'user', content: text };\n    setMessages((prev) => [...prev, userMsg]);\n    setText('');\n    setIsProcessing(true);\n\n    try {\n      const res = await fetch('http://localhost:8000/voice/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          message: userMsg.content,\n          language: selectedLanguage,\n          farmer_id: 'farmer_123',\n          farmer_name: 'Ramesh Kumar'\n        })\n      });\n\n      const data = await res.json();\n\n      const aiMsg = { role: 'assistant', content: data.response };\n      setMessages((prev) => [...prev, aiMsg]);\n\n      const ttsRes = await fetch('http://localhost:8000/voice/tts', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          text: data.response,\n          language: selectedLanguage\n        })\n      });\n\n      const ttsData = await ttsRes.json();\n      const audioBlob = base64ToBlob(ttsData.audio, 'audio/mp3');\n      const audioUrl = URL.createObjectURL(audioBlob);\n      audioRef.current.src = audioUrl;\n      audioRef.current.play();\n\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // ðŸ”§ Helpers\n  const blobToBase64 = (blob) =>\n    new Promise((resolve) => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result.split(',')[1]);\n      reader.readAsDataURL(blob);\n    });\n\n  const base64ToBlob = (b64, mime) => {\n    const bytes = atob(b64);\n    const arr = new Uint8Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) arr[i] = bytes.charCodeAt(i);\n    return new Blob([arr], { type: mime });\n  };\n  \n\n  return (\n    <div className=\"min-h-screen bg-green-50 p-6 flex flex-col items-center\">\n      <h1 className=\"text-3xl font-bold mb-6\">KisanAI ðŸŒ¾</h1>\n\n      <div className=\"flex items-center gap-4 mb-4\">\n        <button\n          onClick={isListening ? stopListening : startListening}\n          className={`w-16 h-16 rounded-full flex items-center justify-center text-white ${\n            isListening ? 'bg-red-500 animate-pulse' : 'bg-green-500 hover:scale-105'\n          }`}\n        >\n          {isListening ? <MicOff /> : <Mic />}\n        </button>\n\n        <select\n          value={selectedLanguage}\n          onChange={(e) => setSelectedLanguage(e.target.value)}\n          className=\"px-4 py-2 rounded border\"\n        >\n          {languages.map((lang) => (\n            <option key={lang.code} value={lang.code}>\n              {lang.flag} {lang.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <textarea\n        value={text}\n        onChange={(e) => setText(e.target.value)}\n        placeholder=\"Your speech will appear here...\"\n        className=\"w-full max-w-xl p-4 border rounded-lg mb-4 text-lg\"\n        rows={3}\n      />\n\n      <button\n        onClick={sendMessage}\n        disabled={isProcessing || !text.trim()}\n        className=\"bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 mb-6\"\n      >\n        Send\n      </button>\n\n      <div className=\"w-full max-w-xl flex flex-col gap-4\">\n        {messages.map((msg, idx) => (\n          <div\n            key={idx}\n            className={`p-4 rounded-lg ${\n              msg.role === 'user'\n                ? 'bg-purple-200 self-end'\n                : 'bg-green-200 self-start'\n            }`}\n          >\n            {msg.content}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC/C,SAASC,GAAG,EAAEC,MAAM,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3C,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACU,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGf,QAAQ,CAAC,OAAO,CAAC;EACjE,MAAM,CAACgB,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAEvD,MAAMkB,QAAQ,GAAGjB,MAAM,CAAC,IAAIkB,KAAK,CAAC,CAAC,CAAC;EACpC,MAAMC,gBAAgB,GAAGnB,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMoB,cAAc,GAAGpB,MAAM,CAAC,EAAE,CAAC;EAEjC,MAAMqB,SAAS,GAAG,CAChB;IAAEC,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,eAAe;IAAEC,IAAI,EAAE;EAAO,CAAC,EACtD;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,SAAS;IAAEC,IAAI,EAAE;EAAO,CAAC,EAChD;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,iBAAiB;IAAEC,IAAI,EAAE;EAAO,CAAC,EACxD;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC3D;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,iBAAiB;IAAEC,IAAI,EAAE;EAAO,CAAC,EACxD;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,iBAAiB;IAAEC,IAAI,EAAE;EAAO,CAAC,EACxD;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,eAAe;IAAEC,IAAI,EAAE;EAAO,CAAC,EACtD;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,iBAAiB;IAAEC,IAAI,EAAE;EAAO,CAAC,EACxD;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC3D;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,kBAAkB;IAAEC,IAAI,EAAE;EAAO,CAAC,CAC1D;;EAED;EACD,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QACvDC,KAAK,EAAE;UACLC,UAAU,EAAE,KAAK;UACjBC,YAAY,EAAE,CAAC;UACfC,gBAAgB,EAAE,IAAI;UACtBC,gBAAgB,EAAE,IAAI;UACtBC,eAAe,EAAE;QACnB;MACF,CAAC,CAAC;MAEF,MAAMC,aAAa,GAAG,IAAIC,aAAa,CAACX,MAAM,EAAE;QAC9CY,QAAQ,EAAE;MACZ,CAAC,CAAC;MAEFnB,gBAAgB,CAACoB,OAAO,GAAGH,aAAa;MACxChB,cAAc,CAACmB,OAAO,GAAG,EAAE;MAE3B,IAAIC,UAAU,GAAG,CAAC;MAClB,MAAMC,KAAK,GAAGC,WAAW,CAAC,MAAM;QAC9BF,UAAU,IAAI,GAAG;QACjBG,OAAO,CAACC,GAAG,CAAC,gBAAgBC,IAAI,CAACC,KAAK,CAACN,UAAU,GAAC,IAAI,CAAC,GAAG,CAAC;MAC7D,CAAC,EAAE,GAAG,CAAC;MAEPJ,aAAa,CAACW,eAAe,GAAIC,CAAC,IAAK;QACrCL,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEI,CAAC,CAACC,IAAI,CAACC,IAAI,CAAC;QAC3C,IAAIF,CAAC,CAACC,IAAI,CAACC,IAAI,GAAG,GAAG,EAAE;UAAG;UACxB9B,cAAc,CAACmB,OAAO,CAACY,IAAI,CAACH,CAAC,CAACC,IAAI,CAAC;QACrC;MACF,CAAC;MAEDb,aAAa,CAACgB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAE;MAC3B5C,cAAc,CAAC,IAAI,CAAC;;MAEpB;MACA6C,UAAU,CAAC,MAAM;QACfC,aAAa,CAACb,KAAK,CAAC;QACpBc,aAAa,CAAC,CAAC;MACjB,CAAC,EAAE,IAAI,CAAC;IAEV,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,KAAK,CAAC,8BAA8B,CAAC;MACrCd,OAAO,CAACe,KAAK,CAACF,GAAG,CAAC;IACpB;EACF,CAAC;;EAID;EACA,MAAMD,aAAa,GAAGA,CAAA,KAAM;IAC1B,MAAMI,QAAQ,GAAGxC,gBAAgB,CAACoB,OAAO;IACzC,IAAI,CAACoB,QAAQ,EAAE;IAEfA,QAAQ,CAACC,IAAI,CAAC,CAAC;IACfpD,cAAc,CAAC,KAAK,CAAC;IAErBmD,QAAQ,CAACE,MAAM,GAAG,YAAY;MAC9BlB,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAExB,cAAc,CAACmB,OAAO,CAACuB,MAAM,CAAC;;MAE5D;MACA,MAAMC,SAAS,GAAG,IAAIC,IAAI,CAAC5C,cAAc,CAACmB,OAAO,EAAE;QAAE0B,IAAI,EAAE;MAAa,CAAC,CAAC;MAC1E,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACL,SAAS,CAAC;MAC1C,MAAMM,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACrCF,CAAC,CAACG,IAAI,GAAGN,GAAG;MACZG,CAAC,CAACI,QAAQ,GAAG,QAAQC,IAAI,CAACC,GAAG,CAAC,CAAC,OAAO;MACtCN,CAAC,CAACO,KAAK,CAAC,CAAC,CAAC,CAAE;;MAEZ,MAAMC,WAAW,GAAG,MAAMC,YAAY,CAACf,SAAS,CAAC;MACjD,MAAMgB,kBAAkB,CAACF,WAAW,CAAC;IACvC,CAAC;EAED,CAAC;;EAGC;EACD,MAAME,kBAAkB,GAAG,MAAOC,WAAW,IAAK;IACjD,IAAI;MACFhE,eAAe,CAAC,IAAI,CAAC;MAErB,MAAMiE,GAAG,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAE;QACzDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBzD,KAAK,EAAEkD,WAAW;UAClBQ,QAAQ,EAAE3E,gBAAgB;UAC1B4E,SAAS,EAAE,YAAY;UACvBC,WAAW,EAAE;QACf,CAAC;MACH,CAAC,CAAC;MAEF,MAAMzC,IAAI,GAAG,MAAMgC,GAAG,CAACU,IAAI,CAAC,CAAC;MAE7B,IAAI1C,IAAI,CAACxC,IAAI,EAAE;QACbC,OAAO,CAACuC,IAAI,CAACxC,IAAI,CAAC;QAClBG,WAAW,CAAEgF,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;UAAEC,IAAI,EAAE,MAAM;UAAEC,OAAO,EAAE7C,IAAI,CAACxC;QAAK,CAAC,CAAC,CAAC;MACxE,CAAC,MAAM,IAAIwC,IAAI,CAAC8C,aAAa,EAAE;QAC7BrF,OAAO,CAACuC,IAAI,CAAC8C,aAAa,CAAC,CAAC,CAAE;QAC9BpD,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEK,IAAI,CAAC8C,aAAa,CAAC;MACnD;;MAEA;MACA,IAAI9C,IAAI,CAACxC,IAAI,EAAE;QACb,MAAMsD,SAAS,GAAGiC,YAAY,CAAC/C,IAAI,CAACnB,KAAK,EAAE,WAAW,CAAC;QACvD,MAAMmE,QAAQ,GAAG9B,GAAG,CAACC,eAAe,CAACL,SAAS,CAAC;QAC/C9C,QAAQ,CAACsB,OAAO,CAAC2D,GAAG,GAAGD,QAAQ;QAC/BhF,QAAQ,CAACsB,OAAO,CAAC4D,IAAI,CAAC,CAAC;MACzB;IAEF,CAAC,CAAC,OAAO3C,GAAG,EAAE;MACZb,OAAO,CAACe,KAAK,CAAC,YAAY,EAAEF,GAAG,CAAC;IAClC,CAAC,SAAS;MACRxC,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;;EAGC;EACA,MAAMoF,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI,CAAC3F,IAAI,CAAC4F,IAAI,CAAC,CAAC,EAAE;IAElB,MAAMC,OAAO,GAAG;MAAET,IAAI,EAAE,MAAM;MAAEC,OAAO,EAAErF;IAAK,CAAC;IAC/CG,WAAW,CAAEgF,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEU,OAAO,CAAC,CAAC;IACzC5F,OAAO,CAAC,EAAE,CAAC;IACXM,eAAe,CAAC,IAAI,CAAC;IAErB,IAAI;MACF,MAAMiE,GAAG,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;QAC1DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBgB,OAAO,EAAED,OAAO,CAACR,OAAO;UACxBN,QAAQ,EAAE3E,gBAAgB;UAC1B4E,SAAS,EAAE,YAAY;UACvBC,WAAW,EAAE;QACf,CAAC;MACH,CAAC,CAAC;MAEF,MAAMzC,IAAI,GAAG,MAAMgC,GAAG,CAACU,IAAI,CAAC,CAAC;MAE7B,MAAMa,KAAK,GAAG;QAAEX,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAE7C,IAAI,CAACwD;MAAS,CAAC;MAC3D7F,WAAW,CAAEgF,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEY,KAAK,CAAC,CAAC;MAEvC,MAAME,MAAM,GAAG,MAAMxB,KAAK,CAAC,iCAAiC,EAAE;QAC5DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnB9E,IAAI,EAAEwC,IAAI,CAACwD,QAAQ;UACnBjB,QAAQ,EAAE3E;QACZ,CAAC;MACH,CAAC,CAAC;MAEF,MAAM8F,OAAO,GAAG,MAAMD,MAAM,CAACf,IAAI,CAAC,CAAC;MACnC,MAAM5B,SAAS,GAAGiC,YAAY,CAACW,OAAO,CAAC7E,KAAK,EAAE,WAAW,CAAC;MAC1D,MAAMmE,QAAQ,GAAG9B,GAAG,CAACC,eAAe,CAACL,SAAS,CAAC;MAC/C9C,QAAQ,CAACsB,OAAO,CAAC2D,GAAG,GAAGD,QAAQ;MAC/BhF,QAAQ,CAACsB,OAAO,CAAC4D,IAAI,CAAC,CAAC;IAEzB,CAAC,CAAC,OAAO3C,GAAG,EAAE;MACZb,OAAO,CAACe,KAAK,CAACF,GAAG,CAAC;IACpB,CAAC,SAAS;MACRxC,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;;EAED;EACA,MAAM8D,YAAY,GAAI8B,IAAI,IACxB,IAAIC,OAAO,CAAEC,OAAO,IAAK;IACvB,MAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,SAAS,GAAG,MAAMH,OAAO,CAACC,MAAM,CAACG,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7DJ,MAAM,CAACK,aAAa,CAACR,IAAI,CAAC;EAC5B,CAAC,CAAC;EAEJ,MAAMZ,YAAY,GAAGA,CAACqB,GAAG,EAAEC,IAAI,KAAK;IAClC,MAAMC,KAAK,GAAGC,IAAI,CAACH,GAAG,CAAC;IACvB,MAAMI,GAAG,GAAG,IAAIC,UAAU,CAACH,KAAK,CAACzD,MAAM,CAAC;IACxC,KAAK,IAAI6D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,KAAK,CAACzD,MAAM,EAAE6D,CAAC,EAAE,EAAEF,GAAG,CAACE,CAAC,CAAC,GAAGJ,KAAK,CAACK,UAAU,CAACD,CAAC,CAAC;IACnE,OAAO,IAAI3D,IAAI,CAAC,CAACyD,GAAG,CAAC,EAAE;MAAExD,IAAI,EAAEqD;IAAK,CAAC,CAAC;EACxC,CAAC;EAGD,oBACElH,OAAA;IAAKyH,SAAS,EAAC,yDAAyD;IAAAC,QAAA,gBACtE1H,OAAA;MAAIyH,SAAS,EAAC,yBAAyB;MAAAC,QAAA,EAAC;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEvD9H,OAAA;MAAKyH,SAAS,EAAC,8BAA8B;MAAAC,QAAA,gBAC3C1H,OAAA;QACE+H,OAAO,EAAE5H,WAAW,GAAGgD,aAAa,GAAG9B,cAAe;QACtDoG,SAAS,EAAE,sEACTtH,WAAW,GAAG,0BAA0B,GAAG,8BAA8B,EACxE;QAAAuH,QAAA,EAEFvH,WAAW,gBAAGH,OAAA,CAACF,MAAM;UAAA6H,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAAG9H,OAAA,CAACH,GAAG;UAAA8H,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC,eAET9H,OAAA;QACEgI,KAAK,EAAEvH,gBAAiB;QACxBwH,QAAQ,EAAGrF,CAAC,IAAKlC,mBAAmB,CAACkC,CAAC,CAACsF,MAAM,CAACF,KAAK,CAAE;QACrDP,SAAS,EAAC,0BAA0B;QAAAC,QAAA,EAEnCzG,SAAS,CAACkH,GAAG,CAAEC,IAAI,iBAClBpI,OAAA;UAAwBgI,KAAK,EAAEI,IAAI,CAAClH,IAAK;UAAAwG,QAAA,GACtCU,IAAI,CAAChH,IAAI,EAAC,GAAC,EAACgH,IAAI,CAACjH,IAAI;QAAA,GADXiH,IAAI,CAAClH,IAAI;UAAAyG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEd,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAEN9H,OAAA;MACEgI,KAAK,EAAE3H,IAAK;MACZ4H,QAAQ,EAAGrF,CAAC,IAAKtC,OAAO,CAACsC,CAAC,CAACsF,MAAM,CAACF,KAAK,CAAE;MACzCK,WAAW,EAAC,iCAAiC;MAC7CZ,SAAS,EAAC,oDAAoD;MAC9Da,IAAI,EAAE;IAAE;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC,eAEF9H,OAAA;MACE+H,OAAO,EAAE/B,WAAY;MACrBuC,QAAQ,EAAE5H,YAAY,IAAI,CAACN,IAAI,CAAC4F,IAAI,CAAC,CAAE;MACvCwB,SAAS,EAAC,sEAAsE;MAAAC,QAAA,EACjF;IAED;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAET9H,OAAA;MAAKyH,SAAS,EAAC,qCAAqC;MAAAC,QAAA,EACjDnH,QAAQ,CAAC4H,GAAG,CAAC,CAACK,GAAG,EAAEC,GAAG,kBACrBzI,OAAA;QAEEyH,SAAS,EAAE,kBACTe,GAAG,CAAC/C,IAAI,KAAK,MAAM,GACf,wBAAwB,GACxB,yBAAyB,EAC5B;QAAAiC,QAAA,EAEFc,GAAG,CAAC9C;MAAO,GAPP+C,GAAG;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAQL,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC5H,EAAA,CAzQuBD,GAAG;AAAAyI,EAAA,GAAHzI,GAAG;AAAA,IAAAyI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}